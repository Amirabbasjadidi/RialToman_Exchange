#:import MDRaisedButton kivymd.uix.button.MDRaisedButton
#:import MDTextField kivymd.uix.textfield.MDTextField
#:import MDFloatingActionButton kivymd.uix.button.MDFloatingActionButton
#:import MDLabel kivymd.uix.label.MDLabel
#:import Window kivy.core.window.Window

ScreenManager:
    MainScreen:

<MainScreen>:
    name: 'main'
    BoxLayout:
        orientation: 'vertical'
        padding: [dp(10), dp(20)]
        spacing: dp(10)

        BoxLayout:
            orientation: 'vertical'
            size_hint_y: None
            height: self.minimum_height
            spacing: dp(10)

            MDTextField:
                id: input_rial
                hint_text: app.reshape_text("Rial:")
                input_filter: 'int'
                size_hint_x: None
                width: min(dp(300), Window.width * 0.8)
                pos_hint: {'center_x': 0.5}
                font_name: 'Vazir'
                halign: 'right'
                on_text: root.update_input_label(self.text, 'rial')

            MDLabel:
                id: input_rial_label
                text: ""
                halign: 'right'
                theme_text_color: 'Secondary'
                font_name: 'Vazir'
                size_hint_y: None
                height: dp(30)

            MDRaisedButton:
                text: app.reshape_text("تبدیل به تومان")
                pos_hint: {'center_x': 0.5}
                on_press: root.convert_to_toman()
                font_name: 'Vazir'
                size_hint_y: None
                height: dp(40)

        BoxLayout:
            orientation: 'vertical'
            size_hint_y: None
            height: self.minimum_height
            spacing: dp(10)

            MDTextField:
                id: input_toman
                hint_text: app.reshape_text("Toman:")
                input_filter: 'int'
                size_hint_x: None
                width: min(dp(300), Window.width * 0.8)
                pos_hint: {'center_x': 0.5}
                font_name: 'Vazir'
                halign: 'right'
                on_text: root.update_input_label(self.text, 'toman')

            MDLabel:
                id: input_toman_label
                text: ""
                halign: 'right'
                theme_text_color: 'Secondary'
                font_name: 'Vazir'
                size_hint_y: None
                height: dp(30)

            MDRaisedButton:
                text: app.reshape_text("تبدیل به ریال")
                pos_hint: {'center_x': 0.5}
                on_press: root.convert_to_rial()
                font_name: 'Vazir'
                size_hint_y: None
                height: dp(40)

        BoxLayout:
            orientation: 'vertical'
            size_hint_y: None
            height: self.minimum_height
            spacing: dp(10)

            MDLabel:
                id: output
                text: ""
                halign: 'center'
                valign: 'top'
                theme_text_color: 'Primary'
                font_name: 'Vazir'
                size_hint_y: None
                height: dp(100)
                text_size: self.width, None

        MDFloatingActionButton:
            icon: "github_icon.png"
            pos_hint: {'center_x': 0.5, 'center_y': 0.1}
            on_press: app.open_github()
            md_bg_color: 1, 1, 1, 1
